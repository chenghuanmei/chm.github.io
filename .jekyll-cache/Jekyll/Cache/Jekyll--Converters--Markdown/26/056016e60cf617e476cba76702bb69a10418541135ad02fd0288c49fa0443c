I"æ!<h2 id="é—®é¢˜">é—®é¢˜</h2>

<h4 id="åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„">åˆ¤æ–­ä¸€ä¸ªå˜é‡æ˜¯å¦æ˜¯æ•°ç»„</h4>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Array.isArray([]) // true

Object.prototype.toString.call([]) // "[object Array]"

[] instanceof Array / [].constructor === Array; // å­˜åœ¨å¼Šç«¯ï¼Œä¸å¯é  åŸå› æ˜¯Arrayå®è´¨æ˜¯ä¸€ä¸ªå¼•ç”¨ï¼Œç”¨instanceofæ–¹æ³•ï¼ˆåŒ…æ‹¬ä¸‹é¢çš„constructoræ–¹æ³•ï¼‰éƒ½æ˜¯åˆ©ç”¨å’Œå¼•ç”¨åœ°å€è¿›è¡Œæ¯”è¾ƒçš„æ–¹æ³•æ¥ç¡®å®šçš„ï¼Œä½†æ˜¯åœ¨frameåµŒå¥—çš„æƒ…å†µä¸‹ï¼Œæ¯ä¸€ä¸ªArrayçš„å¼•ç”¨åœ°å€éƒ½æ˜¯ä¸åŒçš„ï¼Œæ¯”è¾ƒèµ·æ¥ç»“æœä¹Ÿæ˜¯ä¸ç¡®å®šçš„ï¼Œæ‰€ä»¥è¿™ç§æ–¹æ³•æœ‰å…¶å±€é™æ€§ã€‚

</code></pre></div></div>

<h4 id="æ•°ç»„çš„åŸç”Ÿæ–¹æ³•æœ‰å“ªäº›">æ•°ç»„çš„åŸç”Ÿæ–¹æ³•æœ‰å“ªäº›ï¼Ÿ</h4>

<p><code class="highlighter-rouge">æ”¹å˜è‡ªèº«çš„æ–¹æ³•</code></p>

<ul>
  <li>shift();</li>
  <li>unshift();</li>
  <li>push();</li>
  <li>pop();</li>
  <li>reverse();</li>
  <li>sort();</li>
  <li>splice(); //åˆ é™¤ or æ›¿æ¢ params: start , deleteCountï¼ˆå¯é€‰,å¦‚æœä¸æŒ‡å®šï¼Œé‚£ä¹ˆ start ä¹‹åæ•°ç»„çš„æ‰€æœ‰å…ƒç´ éƒ½ä¼šè¢«åˆ é™¤ã€‚ï¼‰ , itemâ€¦ï¼ˆå¯é€‰ï¼Œå¦‚æœä¸æŒ‡å®šï¼Œå°†åªåˆ é™¤æ•°ç»„å…ƒç´ ï¼‰</li>
  <li>copyWithin();</li>
  <li>fill();</li>
</ul>

<p><code class="highlighter-rouge">ä¸æ”¹å˜è‡ªèº«çš„æ–¹æ³•</code></p>

<ul>
  <li>concat();</li>
  <li>includes();</li>
  <li>join();</li>
  <li>slice(begin,end); // åŒ…å« begin ä¸åŒ…å« end</li>
  <li>flat(); // ä½¿ç”¨ Infinityï¼Œå¯å±•å¼€ä»»æ„æ·±åº¦çš„åµŒå¥—æ•°ç»„ &amp; flat()æ–¹æ³•ä¼šç§»é™¤æ•°ç»„ä¸­çš„ç©ºé¡¹:</li>
  <li>toString();</li>
  <li>indexOf();</li>
  <li>lastIndexOf();</li>
</ul>

<p><code class="highlighter-rouge">éå†</code></p>

<ul>
  <li>map();</li>
  <li>filter();</li>
  <li>forEach();</li>
  <li>find();</li>
  <li>findIndex();</li>
  <li>keys();</li>
  <li>values();</li>
  <li>some();</li>
  <li>every();</li>
  <li>reduce();</li>
</ul>

<blockquote>
  <p>å¦‚ä½•å°†ç±»æ•°ç»„è½¬åŒ–ä¸ºæ•°ç»„</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
// es6
Array.from(ç±»æ•°ç»„);
[...ç±»æ•°ç»„] // æ‰©å±•è¿ç®—ç¬¦

[].slice.call(ç±»æ•°ç»„) / Array.prototype.slice.call(ç±»æ•°ç»„);

éå†
var args = [];
for (var i = 1; i &lt; arguments.length; i++) {
args.push(arguments[i]);
}

</code></pre></div></div>

<blockquote>
  <p>è¯´ä¸€è¯´ ES6 ä¸­å¯¹äºæ•°ç»„æœ‰å“ªäº›æ‰©å±•</p>
</blockquote>

<ul>
  <li>
    <p>å¢åŠ äº†æ‰©å±•è¿ç®—ç¬¦ï¼ˆspreadï¼‰â€¦;</p>
  </li>
  <li>
    <p>å¢åŠ äº†ä¸¤ä¸ªæ–¹æ³•ï¼ŒArray.from()å’Œ Array.of()æ–¹æ³•ã€‚</p>
  </li>
  <li>
    <p>å¢åŠ äº†ä¸€äº›å®ä¾‹æ–¹æ³•ï¼Œå¦‚ copyWithin()ã€entriesï¼ˆï¼‰ã€keys()ã€valuesï¼ˆï¼‰,includes() ç­‰ã€‚</p>
  </li>
</ul>

<blockquote>
  <p>æ•°ç»„å»é‡</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
// es6
const arr = [1,2,"2",2,3,5,32,2,24]
const newArr = [...new Set(arr)] / Array.form(new Set(arr));

// filter
// æ’åºå»é‡çš„æ–¹æ³•
function unique(array) {
return array.concat().sort().filter(function(item, index, array){
return !index || item !== array[index - 1]
})
}
// indexOf()
function unique(array) {
var res = array.filter(function(item, index, array){
return array.indexOf(item) === index;
})
return res;
}

//for å¾ªç¯ includes()/indexOf();
function unique(data){
const arr = [];
for(let i = 0;i&lt;data.length;i++){
if(!arr.includes(data[i])){ // arr.indexOf(data[i]) === -1
arr.push(arr[i])
}
}
return arr;
}

// Object é”®å€¼å¯¹
function unique(data){
const obj = {};
return data.filter((item,index,arr)=&gt;{
return obj.hasOwnProperty(typeof item + item) ? false : (obj[typeof item + item] = true)
})
}

// åŒå±‚å¾ªç¯

</code></pre></div></div>

<blockquote>
  <p>å¦‚ä½•â€œæ‰“å¹³â€ä¸€ä¸ªåµŒå¥—æ•°ç»„ï¼Œå¦‚[1,[2,[3]],4,[5]] =&gt; [1,2,3,4,5]?ä½ èƒ½è¯´å‡ºå¤šå°‘ç§æ–¹æ³•ï¼Ÿ</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
const arr = [1,[2,[3]],4,[5]];

// lodash.js
const newArr = \_.flattenDeep(arr)

const newArr = JSON.parse(`[${arr.toString()}]`) / JSON.parse(`[${arr.join()}]`)

const newArr = arr.flat(Infinity);

// reduce
function flatten(data){
return data.reduce((pre,next)=&gt;{
pre.concat(Array.isArray(next)?flatten(next):next)
},[])
}

// ES6 æ‰©å±•è¿ç®—ç¬¦ ...
function flatten(arr) {

    while (arr.some(item =&gt; Array.isArray(item))) {
        arr = [].concat(...arr);
    }

    return arr;

}

</code></pre></div></div>

<blockquote>
  <p>å¦‚ä½•å…‹éš†ä¸€ä¸ªæ•°ç»„ï¼Ÿä½ èƒ½è¯´å‡ºå¤šå°‘ç§ï¼Ÿ</p>
</blockquote>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
const arr = [1,2,3,4,3]

// æµ…æ‹·è´
const newArr = \_.clone(arr); // lodash.js
const newArr = arr.slice()/arr.concat();
const newArr = [...arr];
const newArr = Object.assign([],arr)

// æ·±æ‹·è´
const newArr = \_.cloneDeep(arr); // lodash.js
const newArr = JSON.parse(JSON.stringify(arr)); // ä¸èƒ½æ‹·è´å‡½æ•°

é€’å½’å¾ªç¯
var deepCopy = function(obj) {
if (typeof obj !== 'object') return;
var newObj = obj instanceof Array ? [] : {};
for (var key in obj) {
if (obj.hasOwnProperty(key)) {
newObj[key] = typeof obj[key] === 'object' ? deepCopy(obj[key]) : obj[key];
}
}
return newObj;
}

</code></pre></div></div>

<h2 id="polyfill">Polyfill</h2>

<p><code class="highlighter-rouge">forEach</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>if(typeof Array.prototype.forEach !== 'function'){
    Array.prototype.forEach = function (fn,context) {
        if(typeof fn === 'function'){
            for(let k = 0; k&lt;this.length; k++){
                if(Object.hasOwnProperty.call(this,this[k])){
                    fn.call(context,this[k],k,this)
                }
            }
        }
    }
}
</code></pre></div></div>

<p><code class="highlighter-rouge">map (çº¯å‡½æ•°)</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Array.prototype.map = function (fn,context) {
    let newArray = []

    if(typeof fn === 'function') {
        for (let k = 0, length = this.length ; k&lt;length; k++){
        newArray.push(fn.call(this[k],k,this))
    }

    return newArray ;
}
</code></pre></div></div>

<p><code class="highlighter-rouge">filter (çº¯å‡½æ•°)</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Array.prototype.filter = function (fn,context) {
    let newArray = []

    if(typeof fn === 'function') {
        for(var k = 0,length = this.length; k&lt;length;k++){
            fn.call(this[k],k,this) &amp;&amp; newArray.push(this[k])
        }
    }

    return newArray;
}
</code></pre></div></div>

<p><code class="highlighter-rouge">some</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Array.prototype.some = function (fn,context) {
    let passed = false;
    if(typeof fn === 'function') {
        for(let k = 0,length = this.length; k&lt;length;k++){
            if(passed === true){
                break;
            }
            passed = !!fn.call(this[k],k,this)
        }
    }

    return passed;
}
</code></pre></div></div>

<p><code class="highlighter-rouge">every</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Array.prototype.every = function(fn,context){
    let passed = true;
    if(typeof fn === 'function'){
        for(ket k=0,length=this.length;k&lt;length;k++){
            if(passed !== true){
                break;
            }
            passed = !!fn.call(this[k],k,this)
        }
    }

    return passed;
}
</code></pre></div></div>

<p><code class="highlighter-rouge">indexOf</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Array.prototype.indexOf = function (searchEle,position) {
    let index = -1;
    position = position * 1 || 0

    for(var k=0,length = this.length;k&lt;length;k++) {
        if(k&gt;=position &amp;&amp; this[k]===searchEle){
            index = k;
            break;
        }
    }

    return index
}
</code></pre></div></div>

<p><code class="highlighter-rouge">reduce</code></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Array.prototype.reduce = function (callBack,initialVal) {
    let previous = initialVal;
    let k = 0,length = this.length;

    if(previous === undefined) {
        previois = this[0];
        k = 1
    }

    if(typeof callBack === 'function') {
        for (k;k&lt;length;k++) {
            previous = callBack.call(this,previous,this[k],k,this)
        }
    }

    return previous
}
</code></pre></div></div>
:ET